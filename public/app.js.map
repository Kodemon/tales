{"version":3,"sources":["src/index.tsx","src/Editor/index.tsx","src/Engine/Page.ts","src/Engine/Section.ts","src/Engine/Components/Image.ts","src/Engine/Utils.ts","src/Engine/Components/Reveal.ts","src/Engine/Components/Text.ts","src/Engine/Viewport.ts","src/Editor/Components/Sections.tsx","src/Editor/Settings/Image.tsx","src/Editor/Styles.ts","src/Editor/Settings/Section.tsx","src/Editor/Settings/Text.tsx"],"names":[],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVjB,2BAA6B;AAC7B,yCAA2C;AAE3C,4CAA2C;AAC3C,8CAA6C;AAC7C,0CAAyC;AAEzC,iCAAiE;AAEjE;IA+BE;;;OAGG;IACH,iBAAY,IAAU,EAAE,IAAiB;QAtBzC;;;WAGG;QACI,WAAM,GAAW,CAAC,CAAC;QAmBxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QAEnD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEhB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEtC,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC;YAClC,cAAc,EAAE,IAAI,CAAC,SAAS;YAC9B,WAAW,EAAE,CAAC;YACd,OAAO,EAAE,IAAI;SACd,CAAC,CAAC;IACL,CAAC;IAMD,sBAAI,uBAAE;QAJN;;;WAGG;aACH;YACE,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;QACtB,CAAC;;;OAAA;IAMD,sBAAI,+BAAU;QAJd;;;WAGG;aACH;YACE,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;QAC9B,CAAC;;;OAAA;IAED;;;;MAIE;IAEF;;;;;OAKG;IACI,qBAAG,GAAV,UAAW,GAAmB,EAAE,KAAU;QACxC,IAAM,KAAK,wBAAQ,IAAI,CAAC,IAAI,CAAE,CAAC;QAC/B,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;IAED;;;;OAIG;IACI,qBAAG,GAAV,UAAW,GAAmB;QAC5B,OAAO,aAAK,CAAC,IAAI,CAAC,IAAI,EAAE,cAAY,GAAK,CAAC,CAAC;IAC7C,CAAC;IAED;;;;MAIE;IAEF;;;;OAIG;IACI,8BAAY,GAAnB,UAAoB,SAAc;QAChC,IAAM,OAAO,wBAAQ,IAAI,CAAC,IAAI,CAAE,CAAC;QACjC,OAAO,CAAC,UAAU,CAAC,IAAI,oBACrB,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAChB,SAAS,EACZ,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACvB,CAAC;IAED;;;;OAIG;IACI,8BAAY,GAAnB,UAAoB,SAAc;QAChC,IAAM,OAAO,wBAAQ,IAAI,CAAC,IAAI,CAAE,CAAC;QACjC,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,UAAC,CAAM;YACjD,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAE;gBACzB,OAAO,SAAS,CAAC;aAClB;YACD,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;IACpB,CAAC;IAED;;;;;OAKG;IACI,yCAAuB,GAA9B,UAA+B,SAAc,EAAE,QAAa;QAC1D,IAAM,OAAO,wBAAQ,IAAI,CAAC,IAAI,CAAE,CAAC;QACjC,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,UAAC,CAAM;YACjD,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAE;gBACzB,CAAC,CAAC,QAAQ,GAAG,6BAAqB,sBAC7B,aAAK,CAAC,SAAS,EAAE,UAAU,EAAE,EAAE,CAAC,EAChC,QAAQ,EACX,CAAC;aACJ;YACD,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACvB,CAAC;IAED;;;;;OAKG;IACI,sCAAoB,GAA3B,UAA4B,SAAc,EAAE,KAAU;QACpD,IAAM,OAAO,wBAAQ,IAAI,CAAC,IAAI,CAAE,CAAC;QACjC,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,UAAC,CAAM;YACjD,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAE;gBACzB,CAAC,CAAC,KAAK,GAAG,6BAAqB,sBAC1B,aAAK,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE,CAAC,EAC7B,KAAK,EACR,CAAC;aACJ;YACD,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACvB,CAAC;IAED;;;;OAIG;IACI,iCAAe,GAAtB,UAAuB,SAAc;QACnC,IAAM,OAAO,wBAAQ,IAAI,CAAC,IAAI,CAAE,CAAC;QACjC,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,UAAC,CAAM;YACjD,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAE;gBACzB,OAAO,SAAS,CAAC;aAClB;YACD,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACvB,CAAC;IAED;;;;OAIG;IACI,iCAAe,GAAtB,UAAuB,SAAc;QACnC,IAAM,OAAO,wBAAQ,IAAI,CAAC,IAAI,CAAE,CAAC;QACjC,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,UAAC,IAAW,EAAE,CAAM;YACjE,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAE;gBACzB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACd;YACD,OAAO,IAAI,CAAC;QACd,CAAC,EAAE,EAAE,CAAC,CAAC;QACP,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACvB,CAAC;IAED;;;;MAIE;IAEF;;;;;;;;;OASG;IACI,wBAAM,GAAb,UAAc,GAAQ;QACpB,IAAM,IAAI,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QAE7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEhB,IAAI,CAAC,MAAM,EAAE,CAAC;QAEd,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAClC,CAAC;IAED;;;;MAIE;IAEF;;;;OAIG;IACI,wBAAM,GAAb,UAAc,OAAY;QACxB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC;IAED;;OAEG;IACI,wBAAM,GAAb;QAAA,iBAiCC;QAhCC,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,EAAE,CAAC;QAE9B,0BAA0B;QAE1B,KAAwB,UAAoB,EAApB,KAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAApB,cAAoB,EAApB,IAAoB,EAAE;YAAzC,IAAM,SAAS,SAAA;YAClB,QAAQ,SAAS,CAAC,IAAI,EAAE;gBACtB,KAAK,OAAO,CAAC,CAAC;oBACZ,aAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;oBACvB,MAAM;iBACP;gBACD,KAAK,MAAM,CAAC,CAAC;oBACX,WAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;oBACtB,MAAM;iBACP;gBACD,KAAK,QAAQ,CAAC,CAAC;oBACb,eAAM,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;oBACxB,MAAM;iBACP;aACF;SACF;QAED,mBAAmB;QAEnB,IAAM,MAAM,GAAG,WAAW,CAAC;YACzB,IAAI,KAAI,CAAC,SAAS,CAAC,YAAY,KAAK,CAAC,EAAE;gBACrC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAClD,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACxC,aAAa,CAAC,MAAM,CAAC,CAAC;aACvB;QACH,CAAC,EAAE,GAAG,CAAC,CAAC;QAER,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;MAIE;IAEF;;;;OAIG;IACK,yBAAO,GAAf,UAAgB,IAAiB;QAC/B,IAAM,MAAM,GAAG,aAAK,CAAS,IAAI,EAAE,iBAAiB,EAAE,CAAC,CAAC,CAAC;QACzD,IAAI,MAAM,GAAG,CAAC,EAAE;YACd,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;SACjB;QACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAED;;OAEG;IACK,0BAAQ,GAAhB;QACE,IAAM,QAAQ,GAAG,aAAK,CAAS,IAAI,CAAC,IAAI,EAAE,mBAAmB,EAAE,UAAU,CAAC,CAAC;QAC3E,IAAM,UAAU,GAAG,aAAK,CAAS,IAAI,CAAC,IAAI,EAAE,qBAAqB,EAAE,MAAM,CAAC,CAAC;QAE3E,QAAQ,QAAQ,EAAE;YAChB,KAAK,UAAU,CAAC,CAAC;gBACf,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,kBAAkB,CAAC;gBAC9C,MAAM;aACP;YACD,KAAK,QAAQ,CAAC,CAAC;gBACb,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,gBAAgB,CAAC;gBAC5C,MAAM;aACP;YACD,KAAK,UAAU,CAAC,CAAC;gBACf,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,kBAAkB,CAAC;gBAC9C,MAAM;aACP;SACF;QAED,gBAAQ,CAAC,IAAI,CAAC,SAAS,EAAE;YACvB,UAAU,YAAA;YACV,SAAS,EAAE,IAAI,CAAC,MAAM;SACvB,CAAC,CAAC;IACL,CAAC;IACH,cAAC;AAAD,CA5UA,AA4UC,IAAA;AA5UY,0BAAO;AA8UpB;;;;GAIG;AAEH;;;;;;GAMG;AACH,SAAgB,UAAU,CAAC,KAAe;IAAf,sBAAA,EAAA,UAAe;IACxC,OAAO,MAAM,CAAC,MAAM,CAAC;QACnB,EAAE,EAAE,KAAK,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;QAC/B,QAAQ,qBACN,UAAU,EAAE,MAAM,EAClB,QAAQ,EAAE,UAAU,EACpB,MAAM,EAAE,CAAC,IACN,CAAC,KAAK,CAAC,QAAQ,IAAI,EAAE,CAAC,CAC1B;QACD,UAAU,EAAE,KAAK,CAAC,UAAU,IAAI,EAAE;KACnC,CAAC,CAAC;AACL,CAAC;AAXD,gCAWC;;;;;;;;AC9WD,kCAA2C;AAE3C;;;;;GAKG;AACH,SAAgB,KAAK,CAAC,OAAgB,EAAE,SAAc;IACpD,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAE5C,KAAK,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;IAE1B,IAAM,QAAQ,GAAG,aAAK,CAAC,SAAS,EAAE,mBAAmB,CAAC,CAAC;IACvD,QAAQ,QAAQ,EAAE;QAChB,KAAK,YAAY,CAAC,CAAC;YACjB,KAAK,CAAC,SAAS,GAAG,oBAAoB,CAAC;YACvC,gBAAQ,CAAC,KAAK,EAAE;gBACd,SAAS,EAAE,OAAO;gBAClB,KAAK,EAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK;gBAClC,MAAM,EAAE,OAAO,CAAC,MAAM,GAAG,aAAK,CAAS,SAAS,EAAE,iBAAiB,EAAE,CAAC,CAAC;aACxE,CAAC,CAAC;YACH,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACtB,MAAM;SACP;QAED,KAAK,QAAQ,CAAC,CAAC;YACb,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,SAAS,CAAC,SAAS,GAAG,2BAA2B,CAAC;YAElD,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC/C,QAAQ,CAAC,SAAS,GAAG,0BAA0B,CAAC;YAEhD,KAAK,CAAC,SAAS,GAAG,2BAA2B,CAAC;YAC9C,gBAAQ,CAAC,KAAK,EAAE;gBACd,SAAS,EAAE,OAAO;gBAClB,KAAK,EAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK;gBAClC,MAAM,EAAE,MAAM;aACf,CAAC,CAAC;YAEH,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACxB,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAE3B,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAC1B,MAAM;SACP;QAED,OAAO,CAAC,CAAC;YACP,gBAAQ,CAAC,KAAK,qBACZ,OAAO,EAAE,OAAO,IACb,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE,CAAC,EAC1B,CAAC;YACH,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SACvB;KACF;AACH,CAAC;AA/CD,sBA+CC;;;;;;;ACxDD,iCAAmC;AAEnC;;;;;;;;;;;;;;;;;;;;;;;;;GAyBG;AACH,SAAgB,KAAK,CAAU,GAAQ,EAAE,IAAuB,EAAE,QAAc;IAC9E,IAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1D,IAAI,KAAK,GAAQ,GAAG,CAAC;IACrB,IAAI;QACF,KAAkB,UAAI,EAAJ,aAAI,EAAJ,kBAAI,EAAJ,IAAI,EAAE;YAAnB,IAAM,GAAG,aAAA;YACZ,IAAI,KAAK,KAAK,SAAS,EAAE;gBACvB,OAAO,QAAQ,CAAC;aACjB;YACD,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;SACpB;KACF;IAAC,OAAO,GAAG,EAAE;QACZ,OAAO,QAAQ,CAAC;KACjB;IACD,OAAO,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC;AAChD,CAAC;AAdD,sBAcC;AAED;;;;;GAKG;AACH,SAAgB,QAAQ,CAAC,OAAY,EAAE,MAAW;IAChD,OAAO,CAAC,MAAM,CAAC;QACb,KAAK,IAAM,GAAG,IAAI,MAAM,EAAE;YACxB,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;SAClC;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAND,4BAMC;AAED;;;;;;GAMG;AACH,SAAgB,qBAAqB,CAAC,GAAa;IAAb,oBAAA,EAAA,QAAa;IACjD,IAAM,MAAM,GAAQ,EAAE,CAAC;IACvB,KAAK,IAAM,GAAG,IAAI,GAAG,EAAE;QACrB,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;YAClE,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;SACxB;KACF;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;AARD,sDAQC;AAED;;;;;;;;;GASG;AACH,SAAgB,SAAS,CAAC,CAAS,EAAE,CAAS,EAAE,CAAU;IACxD,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC3B,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC3B,IAAM,IAAI,GAAG,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IACzD,IAAI,IAAI,KAAK,SAAS,EAAE;QACtB,OAAO,iBAAe,IAAI,IAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,UAAI,IAAI,IAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,UAAI,IAAI,IAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAG,CAAC;KAC1H;IACD,OAAO,eAAa,IAAI,IAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,UAAI,IAAI,IAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAG,CAAC;AACxF,CAAC;AARD,8BAQC;;;;;;;AC5FD,kCAA+C;AAE/C;;;;;GAKG;AACH,SAAgB,MAAM,CAAC,OAAgB,EAAE,SAAc;IACrD,IAAM,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC;IAE3C,uBAAuB;IAEvB,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAChD,SAAS,CAAC,SAAS,GAAG,QAAQ,CAAC;IAC/B,gBAAQ,CAAC,SAAS,EAAE;QAClB,QAAQ,EAAE,QAAQ;QAClB,GAAG,EAAE,CAAC;QACN,MAAM,EAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM;QACpC,KAAK,EAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK;KACnC,CAAC,CAAC;IACH,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IAE1B,aAAa;IAEb,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,UAAC,SAAc,EAAE,KAAa;QACrD,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,gBAAQ,CAAC,KAAK,EAAE;YACd,QAAQ,EAAE,UAAU;YACpB,eAAe,EAAE,SAAO,SAAS,CAAC,GAAG,MAAG;YACxC,cAAc,EAAE,OAAO;YACvB,MAAM,EAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM;YACpC,KAAK,EAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK;YAClC,SAAS,EAAE,iBAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;SAC9B,CAAC,CAAC;QACH,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAExB,IAAI,KAAK,GAAG,CAAC,EAAE;YACb,IAAM,KAAK,GAAQ,EAAE,CAAC;YACtB,QAAQ,SAAS,CAAC,UAAU,EAAE;gBAC5B,KAAK,IAAI,CAAC,CAAC;oBACT,gBAAQ,CAAC,KAAK,EAAE;wBACd,QAAQ,EAAE,UAAU;wBACpB,MAAM,EAAE,CAAC;wBACT,IAAI,EAAE,CAAC;wBACP,MAAM,EAAE,CAAC;wBACT,kBAAkB,EAAE,eAAe;wBACnC,QAAQ,EAAE,QAAQ;wBAClB,SAAS,EAAE,iBAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;qBAC9B,CAAC,CAAC;oBACH,MAAM;iBACP;gBACD,KAAK,MAAM,CAAC,CAAC;oBACX,gBAAQ,CAAC,KAAK,EAAE;wBACd,MAAM,EAAE,CAAC;wBACT,QAAQ,EAAE,QAAQ;qBACnB,CAAC,CAAC;oBACH,MAAM;iBACP;gBACD,KAAK,MAAM,CAAC,CAAC;oBACX,gBAAQ,CAAC,KAAK,EAAE;wBACd,KAAK,EAAE,CAAC;wBACR,QAAQ,EAAE,QAAQ;qBACnB,CAAC,CAAC;oBACH,MAAM;iBACP;gBACD,KAAK,OAAO,CAAC,CAAC;oBACZ,gBAAQ,CAAC,KAAK,EAAE;wBACd,QAAQ,EAAE,UAAU;wBACpB,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,kBAAkB,EAAE,cAAc;wBAClC,QAAQ,EAAE,QAAQ;wBAClB,SAAS,EAAE,iBAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;qBAC9B,CAAC,CAAC;oBACH,MAAM;iBACP;aACF;YACD,gBAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAEvB,IAAM,OAAK,GAAG,MAAM,GAAG,KAAK,CAAC;YAC7B,IAAM,KAAG,GAAG,OAAK,GAAG,MAAM,CAAC;YAE3B,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,EAAE,UAAC,KAAU;gBACvC,IAAM,KAAK,GAAQ,EAAE,CAAC;gBACtB,IAAM,OAAO,GAAG,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAK,CAAC,GAAG,MAAM,CAAC,CAAC,oCAAoC;gBACvF,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;gBAE9C,QAAQ,SAAS,CAAC,UAAU,EAAE;oBAC5B,KAAK,MAAM,CAAC,CAAC;wBACX,KAAK,CAAC,OAAO,GAAG,OAAK,GAAG,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,GAAG,KAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACpG,MAAM;qBACP;oBACD,KAAK,MAAM,CAAC,CAAC;wBACX,KAAK,CAAC,OAAO,GAAG,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;wBAC5D,MAAM;qBACP;oBACD,KAAK,IAAI,CAAC,CAAC;wBACT,KAAK,CAAC,MAAM,GAAG,CAAG,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,OAAG,CAAC;wBACjF,MAAM;qBACP;oBACD,KAAK,MAAM,CAAC,CAAC;wBACX,KAAK,CAAC,MAAM,GAAG,CAAG,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,OAAG,CAAC;wBACjF,MAAM;qBACP;oBACD,KAAK,MAAM,CAAC,CAAC;wBACX,KAAK,CAAC,KAAK,GAAG,CAAG,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,OAAG,CAAC;wBAChF,MAAM;qBACP;oBACD,KAAK,OAAO,CAAC,CAAC;wBACZ,KAAK,CAAC,KAAK,GAAG,CAAG,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,OAAG,CAAC;wBAChF,MAAM;qBACP;iBACF;gBAED,gBAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,gBAAQ,CAAC,KAAK,EAAE;gBACd,QAAQ,EAAE,UAAU;gBACpB,IAAI,EAAE,CAAC;gBACP,GAAG,EAAE,CAAC;gBACN,MAAM,EAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM;aACrC,CAAC,CAAC;SACJ;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAtHD,wBAsHC;AAED;;;;;;;;;;;;;;;;;EAiBE;;;;;;;;AClJF,6BAA+B;AAG/B,kCAA2C;AAE3C;;;;;GAKG;AACH,SAAgB,IAAI,CAAC,OAAgB,EAAE,SAAc;IACnD,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC3C,gBAAQ,CAAC,IAAI,uBACR,aAAa,CAAC,aAAK,CAAS,SAAS,EAAE,iBAAiB,CAAC,EAAE,aAAK,CAAS,SAAS,EAAE,cAAc,CAAC,EAAE,aAAK,CAAS,SAAS,EAAE,cAAc,CAAC,CAAC,IACjJ,SAAS,EAAE,OAAO,CAAC,MAAM,IACzB,CAAC;IACH,IAAI,aAAK,CAAU,SAAS,EAAE,iBAAiB,EAAE,KAAK,CAAC,EAAE;QACvD,gBAAQ,CAAC,IAAI,EAAE;YACb,QAAQ,EAAE,UAAU;YACpB,GAAG,EAAE,CAAC;YACN,IAAI,EAAE,CAAC;YACP,KAAK,EAAE,MAAM;SACd,CAAC,CAAC;KACJ;IACD,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAErB,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;IAC/C,gBAAQ,CAAC,IAAI,qBACX,QAAQ,EAAE,MAAM,IACb,aAAK,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE,CAAC,EAChC,CAAC;IACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAElB,IAAM,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,EAAE;QAC5B,KAAK,EAAE,QAAQ;QACf,WAAW,EAAE,oBAAoB;QACjC,QAAQ,EAAE,KAAK;QACf,OAAO,EAAE;YACP,OAAO,EAAE;gBACP,CAAC,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,CAAC;gBACzC,CAAC,YAAY,EAAE,YAAY,CAAC;gBAE5B,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;gBAC9B,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;gBACzC,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC;gBACxC,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACpC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;gBAEtB,CAAC,EAAE,IAAI,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,CAAC,EAAE,CAAC;gBAC7C,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC;gBAEvC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC;gBACnC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;gBACd,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;gBAEf,CAAC,OAAO,CAAC,CAAC,2BAA2B;aACtC;SACF;KACF,CAAC,CAAC;IAEH,IAAI,QAAa,CAAC;IAClB,KAAK,CAAC,EAAE,CAAC,aAAa,EAAE,UAAS,KAAU,EAAE,QAAa,EAAE,MAAW;QACrE,YAAY,CAAC,QAAQ,CAAC,CAAC;QACvB,QAAQ,GAAG,UAAU,CAAC;YACpB,OAAO,CAAC,YAAY,sBACf,SAAS,IACZ,IAAI,EAAE,KAAK,CAAC,WAAW,EAAE,IACzB,CAAC;QACL,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC;AA9DD,oBA8DC;AAED;;;;GAIG;AACH,SAAS,aAAa,CAAC,MAAyB,EAAE,GAAiB,EAAE,GAAiB;IAA/D,uBAAA,EAAA,iBAAyB;IAAE,oBAAA,EAAA,SAAiB;IAAE,oBAAA,EAAA,SAAiB;IACpF,QAAQ,MAAM,EAAE;QACd,KAAK,MAAM,CAAC,CAAC;YACX,OAAO;gBACL,OAAO,EAAE,MAAM;gBACf,mBAAmB,EAAE,YAAU,GAAG,YAAO,GAAG,aAAU;gBACtD,gBAAgB,EAAE,KAAK;gBACvB,iBAAiB,EAAE,UAAU;aAC9B,CAAC;SACH;QACD,KAAK,QAAQ,CAAC,CAAC;YACb,OAAO;gBACL,OAAO,EAAE,MAAM;gBACf,mBAAmB,EAAE,iBAAe,GAAG,YAAO,GAAG,aAAU;gBAC3D,gBAAgB,EAAE,KAAK;gBACvB,iBAAiB,EAAE,YAAY;aAChC,CAAC;SACH;QACD,KAAK,OAAO,CAAC,CAAC;YACZ,OAAO;gBACL,OAAO,EAAE,MAAM;gBACf,mBAAmB,EAAE,iBAAe,GAAG,YAAO,GAAG,QAAK;gBACtD,gBAAgB,EAAE,KAAK;gBACvB,iBAAiB,EAAE,UAAU;aAC9B,CAAC;SACH;QACD,KAAK,QAAQ,CAAC,CAAC;YACb,OAAO;gBACL,OAAO,EAAE,MAAM;gBACf,mBAAmB,EAAE,iBAAe,GAAG,YAAO,GAAG,aAAU;gBAC3D,gBAAgB,EAAE,cAAc;gBAChC,iBAAiB,EAAE,4BAA4B;aAChD,CAAC;SACH;KACF;AACH,CAAC;;;;;;;ACnHD;IAIE,kBAAY,KAAa,EAAE,MAAc;QACvC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IACH,eAAC;AAAD,CARA,AAQC,IAAA;AARY,4BAAQ;;;;;;;;ACArB,6BAA+B;AAC/B,uDAAuC;AAKvC;IAA8B,oCAQ7B;IACC,kBAAY,KAAU,EAAE,KAAU;QAAlC,YACE,kBAAM,KAAK,EAAE,KAAK,CAAC,SAUpB;QAED;;;;WAIG;QACK,cAAQ,GAAG,UAAC,OAAgB;YAClC,OAAO,CAAC,YAAY,CAAC;gBACnB,IAAI,EAAE,OAAO;gBACb,GAAG,EAAE,sEAAsE;gBAC3E,KAAK,EAAE;oBACL,KAAK,EAAE,MAAM;oBACb,MAAM,EAAE,MAAM;iBACf;aACF,CAAC,CAAC;QACL,CAAC,CAAC;QAEF;;;;WAIG;QACK,aAAO,GAAG,UAAC,OAAgB;YACjC,OAAO,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;QACzC,CAAC,CAAC;QAjCA,IAAI,QAAQ,GAAgB,IAAI,GAAG,EAAE,CAAC;QAEtC,IAAM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QACtD,IAAI,KAAK,EAAE;YACT,QAAQ,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;SACvC;QAED,KAAI,CAAC,KAAK,GAAG,EAAE,QAAQ,UAAA,EAAE,CAAC;;IAC5B,CAAC;IA2BM,yBAAM,GAAb;QAAA,iBA2BC;QA1BC,OAAO,CACL,oBAAC,WAAW,QACT,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,OAAO,EAAE,KAAK;YAC3C,OAAO,CACL,4BAAI,GAAG,EAAE,OAAO,CAAC,EAAE;gBACjB,gCACE,OAAO,EAAE;wBACP,IAAM,QAAQ,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;wBACrC,IAAI,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;4BAC5B,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;yBAC7B;6BAAM;4BACL,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;yBAC1B;wBACD,KAAI,CAAC,QAAQ,CAAC,cAAM,OAAA,CAAC,EAAE,QAAQ,UAAA,EAAE,CAAC,EAAd,CAAc,CAAC,CAAC;wBACpC,YAAY,CAAC,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAChF,CAAC;oBAED,2BAAG,SAAS,EAAC,oBAAoB,EAAC,KAAK,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,GAAI;oBAC9D,KAAK;;oBAAK,OAAO,CAAC,EAAE,CACd;gBACR,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CACzB,CACN,CAAC;QACJ,CAAC,CAAC,CACU,CACf,CAAC;IACJ,CAAC;IAEO,gCAAa,GAArB,UAAsB,OAAgB;QAAtC,iBAqCC;QApCC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;YACxC,OAAO,IAAI,CAAC;SACb;QACD,OAAO,CACL,oBAAC,UAAU;YACT,4BAAI,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,IAC7B,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,UAAA,SAAS;gBAC/B,OAAO,CACL,4BACE,SAAS,EAAC,WAAW,EACrB,GAAG,EAAE,SAAS,CAAC,EAAE,EACjB,OAAO,EAAE;wBACP,KAAI,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;oBAC/C,CAAC;oBAEA,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAAC;;oBAAG,SAAS,CAAC,IAAI,CAC/C,CACN,CAAC;YACJ,CAAC,CAAC,CACC;YACL,gCACE,OAAO,EAAE;oBACP,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBACzB,CAAC,gBAGM;YACT,gCACE,OAAO,EAAE;oBACP,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBACxB,CAAC,eAGM,CACE,CACd,CAAC;IACJ,CAAC;IACH,eAAC;AAAD,CAlHA,AAkHC,CAlH6B,KAAK,CAAC,SAAS,GAkH5C;AAlHY,4BAAQ;AAoHrB,IAAM,WAAW,GAAG,2BAAM,CAAC,EAAE,2PAAA,gLAY5B,IAAA,CAAC;AAEF,IAAM,UAAU,GAAG,2BAAM,CAAC,GAAG,kOAAA,uJAU5B,IAAA,CAAC;AAEF,SAAS,gBAAgB,CAAC,IAAY;IACpC,QAAQ,IAAI,EAAE;QACZ,KAAK,OAAO,CAAC,CAAC;YACZ,OAAO,2BAAG,SAAS,EAAC,aAAa,EAAC,KAAK,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,GAAI,CAAC;SACjE;QACD,KAAK,MAAM,CAAC,CAAC;YACX,OAAO,2BAAG,SAAS,EAAC,mBAAmB,EAAC,KAAK,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,GAAI,CAAC;SACvE;QACD,KAAK,QAAQ,CAAC,CAAC;YACb,OAAO,2BAAG,SAAS,EAAC,aAAa,EAAC,KAAK,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,GAAI,CAAC;SACjE;KACF;AACH,CAAC;;;;;;;;;AChKD,6BAA+B;AAG/B,sCAAqC;AAErC,oCAAiD;AAEpC,QAAA,aAAa,GAGrB,SAAS,aAAa,CAAC,EAAsB;QAApB,oBAAO,EAAE,wBAAS;IAC9C,OAAO,CACL,oBAAC,KAAK,CAAC,QAAQ,IAAC,GAAG,EAAE,eAAa,SAAS,CAAC,EAAI;QAC9C,oBAAC,eAAM;YACL,iDAAuB,CAChB;QACT,6BAAK,KAAK,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;YACzB,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,aAAe;gBACvC,+BACE,IAAI,EAAC,MAAM,EACX,WAAW,EAAC,sBAAsB,EAClC,KAAK,EAAE,SAAS,CAAC,GAAG,EACpB,QAAQ,EAAE,UAAA,KAAK;wBACb,OAAO,CAAC,eAAe,sBAClB,SAAS,IACZ,GAAG,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,IACvB,CAAC;oBACL,CAAC,GACD,CACW;YACf,oBAAC,qBAAY;gBACX,8CAAuB;gBACvB,gCACE,KAAK,EAAE,aAAK,CAAC,SAAS,EAAE,mBAAmB,CAAC,EAC5C,QAAQ,EAAE,UAAA,KAAK;wBACb,OAAO,CAAC,uBAAuB,CAAC,SAAS,EAAE,EAAE,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;wBAC7E,+CAA+C;oBACjD,CAAC;oBAED,2CAAqB;oBACrB,gCAAQ,KAAK,EAAC,YAAY,iBAAoB;oBAC9C,gCAAQ,KAAK,EAAC,QAAQ,aAAgB,CAC/B,CACI,CACX;QAEN,oBAAC,eAAM;YACL,8CAAoB,CACb;QACT,6BAAK,KAAK,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;YACzB,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,YAAc;gBACtC,+BACE,IAAI,EAAC,MAAM,EACX,YAAY,EAAE,aAAK,CAAC,SAAS,EAAE,aAAa,EAAE,EAAE,CAAC,EACjD,MAAM,EAAE,UAAA,KAAK;wBACX,OAAO,CAAC,oBAAoB,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBACzE,CAAC,GACD,CACW;YACf,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,aAAe;gBACvC,+BACE,IAAI,EAAC,MAAM,EACX,YAAY,EAAE,aAAK,CAAC,SAAS,EAAE,cAAc,EAAE,EAAE,CAAC,EAClD,MAAM,EAAE,UAAA,KAAK;wBACX,OAAO,CAAC,oBAAoB,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBAC1E,CAAC,GACD,CACW;YACf,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,aAAe;gBACvC,+BACE,IAAI,EAAC,MAAM,EACX,YAAY,EAAE,aAAK,CAAC,SAAS,EAAE,cAAc,EAAE,EAAE,CAAC,EAClD,MAAM,EAAE,UAAA,KAAK;wBACX,OAAO,CAAC,oBAAoB,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBAC1E,CAAC,GACD,CACW,CACX;QACN,6BAAK,KAAK,EAAE,EAAE,SAAS,EAAE,gBAAgB,EAAE,OAAO,EAAE,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE;YAC3E,gCACE,OAAO,EAAE;oBACP,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;gBACrC,CAAC,mBAGM,CACL,CACS,CAClB,CAAC;AACJ,CAAC,CAAC;;;;;;;;AC7FF,uDAAuC;AAE1B,QAAA,OAAO,GAAG,2BAAM,CAAC,GAAG,6OAAA,kKAUhC,KAAC;AAEW,QAAA,MAAM,GAAG,2BAAM,CAAC,MAAM,4OAAA,iKAUlC,KAAC;AAEW,QAAA,MAAM,GAAG,2BAAM,CAAC,GAAG,mVAAA,wQAiB/B,KAAC;AAEW,QAAA,YAAY,GAAG,2BAAM,CAAC,GAAG,kWAAA,uRAmBrC,KAAC;AAEW,QAAA,mBAAmB,GAAG,2BAAM,CAAC,GAAG,qNAAA,0IAS5C,KAAC;AAEW,QAAA,OAAO,GAAG,2BAAM,CAAC,GAAG,0LAAA,+GAKhC,KAAC;AAEW,QAAA,QAAQ,GAAG,2BAAM,CAAC,GAAG,uIAAA,4DAGjC,KAAC;;;;;;;;;ACvFF,6BAA+B;AAC/B,2CAA2C;AAI3C,oCAAsE;AAEzD,QAAA,eAAe,GAEvB,SAAS,eAAe,CAAC,EAAW;QAAT,oBAAO;IACrC,OAAO,CACL,oBAAC,KAAK,CAAC,QAAQ,IAAC,GAAG,EAAE,aAAW,OAAO,CAAC,EAAI;QAC1C,oBAAC,eAAM;YACL,mDAAyB,CAClB;QACT,6BAAK,KAAK,EAAE,EAAE,YAAY,EAAE,gBAAgB,EAAE,OAAO,EAAE,EAAE,EAAE;YACzD,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,eAAiB;gBACzC,gCACE,KAAK,EAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EACrC,QAAQ,EAAE,UAAA,KAAK;wBACb,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBAC9C,CAAC;oBAED,gCAAQ,KAAK,EAAC,UAAU,eAAkB;oBAC1C,gCAAQ,KAAK,EAAC,QAAQ,aAAgB;oBACtC,gCAAQ,KAAK,EAAC,UAAU,eAAkB,CACnC,CACI;YACf,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,aAAe;gBACvC,+BACE,IAAI,EAAC,QAAQ,EACb,YAAY,EAAE,KAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,GAAK,EAC9C,QAAQ,EAAE,UAAA,KAAK;wBACb,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;oBAChE,CAAC,GACD,CACW;YACf,oBAAC,WAAW,IAAC,KAAK,EAAC,kBAAkB,EAAC,OAAO,EAAE,OAAO,GAAI,CACtD,CACS,CAClB,CAAC;AACJ,CAAC,CAAC;AAEF;IAA0B,uCAQzB;IACC,qBAAY,KAAU;QAAtB,YACE,kBAAM,KAAK,CAAC,SAIb;QAHC,KAAI,CAAC,KAAK,GAAG;YACX,IAAI,EAAE,KAAK;SACZ,CAAC;;IACJ,CAAC;IAEM,4BAAM,GAAb;QAAA,iBAwBC;QAvBC,OAAO,CACL,oBAAC,4BAAmB;YAClB,+BACE,KAAK,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,EAC5B,SAAS,EAAC,OAAO,EACjB,OAAO,EAAE;oBACP,KAAI,CAAC,QAAQ,CAAC,cAAM,OAAA,CAAC,EAAE,IAAI,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAA5B,CAA4B,CAAC,CAAC;gBACpD,CAAC;gBAEA,IAAI,CAAC,KAAK,CAAC,KAAK;gBACjB,2BAAG,SAAS,EAAE,kBAAe,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAE,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,GAAI,CACrG;YACP,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAClB,oBAAC,0BAAY,IACX,KAAK,EAAE,GAAG,EACV,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,EAC3C,gBAAgB,EAAE,UAAC,KAAU;oBAC3B,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;gBAClD,CAAC,GACD,CACH,CACmB,CACvB,CAAC;IACJ,CAAC;IACH,kBAAC;AAAD,CAzCA,AAyCC,CAzCyB,KAAK,CAAC,SAAS,GAyCxC;;;;;;;ACtFD,6BAA+B;AAG/B,sCAAqC;AAErC,oCAAiD;AAEpC,QAAA,YAAY,GAGpB,SAAS,YAAY,CAAC,EAAsB;QAApB,oBAAO,EAAE,wBAAS;IAC7C,OAAO,CACL,oBAAC,KAAK,CAAC,QAAQ,IAAC,GAAG,EAAE,eAAa,SAAS,CAAC,EAAI;QAC9C,oBAAC,eAAM;YACL,kDAAwB,CACjB;QACT,6BAAK,KAAK,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;YACzB,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,gBAAkB;gBAC1C,+BACE,IAAI,EAAC,QAAQ,EACb,YAAY,EAAE,aAAK,CAAC,SAAS,EAAE,cAAc,EAAE,EAAE,CAAC,EAClD,WAAW,EAAC,KAAK,EACjB,MAAM,EAAE,UAAA,KAAK;wBACX,OAAO,CAAC,uBAAuB,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBAC1E,CAAC,GACD,CACW;YACf,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,gBAAkB;gBAC1C,+BACE,IAAI,EAAC,QAAQ,EACb,YAAY,EAAE,aAAK,CAAC,SAAS,EAAE,cAAc,EAAE,EAAE,CAAC,EAClD,WAAW,EAAC,KAAK,EACjB,MAAM,EAAE,UAAA,KAAK;wBACX,OAAO,CAAC,uBAAuB,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBAC1E,CAAC,GACD,CACW;YACf,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,aAAe;gBACvC,gCACE,KAAK,EAAE,aAAK,CAAS,SAAS,EAAE,iBAAiB,EAAE,QAAQ,CAAC,EAC5D,QAAQ,EAAE,UAAA,KAAK;wBACb,OAAO,CAAC,uBAAuB,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBAC7E,CAAC;oBAED,gCAAQ,KAAK,EAAC,MAAM,WAAc;oBAClC,gCAAQ,KAAK,EAAC,QAAQ,aAAgB;oBACtC,gCAAQ,KAAK,EAAC,OAAO,YAAe;oBACpC,gCAAQ,KAAK,EAAC,QAAQ,aAAgB,CAC/B,CACI,CACX;QAEN,oBAAC,eAAM;YACL,gDAAsB,CACf;QACT,6BAAK,KAAK,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;YACzB,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,YAAc;gBACtC,+BACE,IAAI,EAAC,MAAM,EACX,YAAY,EAAE,aAAK,CAAC,SAAS,EAAE,aAAa,EAAE,EAAE,CAAC,EACjD,WAAW,EAAC,2BAA2B,EACvC,MAAM,EAAE,UAAA,KAAK;wBACX,OAAO,CAAC,oBAAoB,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBACzE,CAAC,GACD,CACW;YACf,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,gBAAkB;gBAC1C,+BACE,IAAI,EAAC,MAAM,EACX,YAAY,EAAE,aAAK,CAAC,SAAS,EAAE,gBAAgB,EAAE,EAAE,CAAC,EACpD,WAAW,EAAC,0BAA0B,EACtC,MAAM,EAAE,UAAA,KAAK;wBACX,OAAO,CAAC,oBAAoB,CAAC,SAAS,EAAE,EAAE,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBAC5E,CAAC,GACD,CACW;YACf,oBAAC,qBAAY;gBACX,+BAAO,SAAS,EAAC,OAAO,YAAc;gBACtC,+BACE,IAAI,EAAC,MAAM,EACX,YAAY,EAAE,aAAK,CAAC,SAAS,EAAE,kBAAkB,EAAE,EAAE,CAAC,EACtD,WAAW,EAAC,sCAAsC,EAClD,MAAM,EAAE,UAAA,KAAK;wBACX,OAAO,CAAC,oBAAoB,CAAC,SAAS,EAAE,EAAE,UAAU,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;oBAC9E,CAAC,GACD,CACW,CACX;QAEN,6BAAK,KAAK,EAAE,EAAE,SAAS,EAAE,gBAAgB,EAAE,OAAO,EAAE,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE;YAC3E,gCACE,OAAO,EAAE;oBACP,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;gBACrC,CAAC,kBAGM,CACL,CACS,CAClB,CAAC;AACJ,CAAC,CAAC","file":"","sourcesContent":["import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport { Editor } from \"./Editor\";\n\nconst urlParams = new URLSearchParams(window.location.search);\n\n// if (!!urlParams.get(\"edit\")) {\n//   ReactDOM.render(React.createElement(Editor), document.getElementById(\"app\"));\n// }\n\nReactDOM.render(React.createElement(Editor), document.getElementById(\"app\"));\n","import * as React from \"react\";\n\nimport { Page } from \"Engine/Page\";\nimport { Section } from \"Engine/Section\";\nimport { maybe } from \"Engine/Utils\";\n\nimport { Sections } from \"./Components/Sections\";\nimport { ImageSettings } from \"./Settings/Image\";\nimport { SectionSettings } from \"./Settings/Section\";\nimport { TextSettings } from \"./Settings/Text\";\nimport { Content, Header, Scenes, Settings, Wrapper } from \"./Styles\";\n\nexport class Editor extends React.Component<\n  {},\n  {\n    section?: Section;\n    component?: any;\n  }\n> {\n  private content: HTMLDivElement | null;\n  private page: Page;\n\n  constructor(props: any, state: any) {\n    super(props, state);\n    this.state = {\n      section: undefined,\n      component: undefined\n    };\n  }\n\n  /**\n   * @should create a new page\n   * @should load cached page if exists\n   * @should update editor on section update events\n   */\n  public componentDidMount() {\n    window.page = this.page = new Page(this.content)\n      .on(\"ready\", () => {\n        const cache = localStorage.getItem(\"page\");\n        if (cache) {\n          this.page.load(JSON.parse(cache));\n        }\n      })\n      .on(\"loaded\", () => {\n        this.forceUpdate();\n      })\n      .on(\"section\", (section: Section) => {\n        const sectionId = maybe(this.state, \"section.id\");\n        const componentId = maybe(this.state, \"component.id\");\n        if (sectionId && sectionId === section.id) {\n          this.setState(() => ({ section, component: section.components.find(i => i.id === componentId) }));\n        } else {\n          this.forceUpdate();\n        }\n      })\n      .on(\"edit\", (section: Section, component: any) => {\n        this.setState(() => ({ section, component }));\n      });\n  }\n\n  public editComponent = (section: Section, component: any) => {\n    this.setState(() => ({ section, component }));\n  };\n\n  public render() {\n    // return <Content ref={c => (this.content = c)} style={{height: \"100%\", width: \"100%\"}} />;\n    return (\n      <Wrapper>\n        <Scenes>\n          <Header>\n            <h1>Sections</h1>\n            <div>\n              <button\n                onClick={() => {\n                  if (this.page) {\n                    this.page.flush();\n                    this.setState(() => ({ section: undefined, component: undefined }));\n                  }\n                }}\n              >\n                <i className=\"fa fa-trash\" />\n              </button>\n              <button\n                onClick={() => {\n                  if (this.page) {\n                    this.setState(() => ({ section: this.page.addSection() }));\n                  }\n                }}\n              >\n                <i className=\"fa fa-plus\" />\n              </button>\n            </div>\n          </Header>\n          {this.page && <Sections page={this.page} editComponent={this.editComponent} />}\n        </Scenes>\n        <Content ref={c => (this.content = c)} />\n        <Settings>\n          {this.state.section && <SectionSettings section={this.state.section} />}\n          {this.state.section && this.state.component && this.renderComponentSettings(this.state.section, this.state.component)}\n        </Settings>\n      </Wrapper>\n    );\n  }\n\n  private renderComponentSettings(section: Section, component: any) {\n    switch (component.type) {\n      case \"image\": {\n        return <ImageSettings section={section} component={component} />;\n      }\n      case \"text\": {\n        return <TextSettings section={section} component={component} />;\n      }\n    }\n  }\n}\n","import \"TweenMax\";\n\nimport * as ScrollMagic from \"scrollmagic\";\n\nimport \"animation.gsap\";\nimport \"debug.addIndicators\";\n\nimport { getSection, Section } from \"./Section\";\nimport { Viewport } from \"./Viewport\";\n\nexport class Page {\n  /**\n   * Editing state.\n   * @type {boolean}\n   */\n  public editing: boolean;\n\n  /**\n   * Container.\n   * @type {HTMLDivElement}\n   */\n  public container: HTMLDivElement;\n\n  /**\n   * ScrollMagic Controller.\n   * @type {ScrollMagic.Controller}\n   */\n  public controller: any;\n\n  /**\n   * Viewport dimensions.\n   * @type {Viewport}\n   */\n  public viewport: Viewport;\n\n  /**\n   * Event listeners.\n   * @type {Map}\n   */\n  public events: Map<Event, Set<EventHandler>> = new Map();\n\n  /**\n   * Scenes.\n   * @type {Section[]}\n   */\n  public sections: Section[] = [];\n\n  /**\n   * @param target\n   * @param editing\n   */\n  constructor(container: any) {\n    this.container = container;\n    this.controller = new ScrollMagic.Controller({\n      container: this.container,\n      refreshInterval: 0\n    });\n    const loader = setInterval(() => {\n      if (this.container.offsetHeight > 0) {\n        clearInterval(loader);\n        this.viewport = new Viewport(this.container.offsetWidth, this.container.offsetHeight);\n        this.emit(\"ready\");\n      }\n    }, 100);\n  }\n\n  /**\n   * Loads a cached page.\n   *\n   * @param list\n   */\n  public load(list: any[]) {\n    this.container.innerHTML = \"\";\n    for (const data of list) {\n      this.sections.push(new Section(this, getSection(data)).render());\n    }\n    this.emit(\"loaded\");\n  }\n\n  /**\n   * Add a new scene to the editor.\n   *\n   * @param props\n   */\n  public addSection(props?: any) {\n    const section = new Section(this, getSection(props));\n\n    this.sections.push(section);\n\n    section.render();\n\n    this.emit(\"section\", section);\n    this.cache();\n\n    return section;\n  }\n\n  public removeSection(section: Section) {\n    this.sections = this.sections.reduce((list: Section[], cached: Section) => {\n      if (section !== cached) {\n        list.push(cached);\n      } else {\n        section.container.remove();\n      }\n      return list;\n    }, []);\n\n    this.cache();\n\n    for (const section of this.sections) {\n      section.render();\n    }\n\n    this.emit(\"loaded\");\n  }\n\n  /**\n   * Stores the current state of the page.\n   */\n  public cache() {\n    const scenes: any = [];\n    this.sections.forEach(scene => {\n      scenes.push(scene.data);\n    });\n    localStorage.setItem(\"page\", JSON.stringify(scenes));\n  }\n\n  /**\n   * Completely flush the page of all content.\n   */\n  public flush() {\n    localStorage.removeItem(\"page\");\n    this.sections = [];\n    this.container.innerHTML = \"\";\n  }\n\n  // ### Event Handlers\n\n  /**\n   * Add editor event listener.\n   *\n   * @param event\n   * @param fn\n   */\n  public on(event: Event, fn: EventHandler) {\n    let fns = this.events.get(event);\n    if (!fns) {\n      fns = new Set();\n    }\n    fns.add(fn);\n    this.events.set(event, fns);\n    return this;\n  }\n\n  /**\n   * Remove editor event listener.\n   *\n   * @param event\n   * @param fn\n   */\n  public off(event: Event, fn: EventHandler) {\n    const fns = this.events.get(event);\n    if (fns) {\n      fns.delete(fn);\n      this.events.set(event, fns);\n    }\n    return this;\n  }\n\n  /**\n   * Emit editor event.\n   *\n   * @param event\n   */\n  public emit(event: Event, ...args: any) {\n    const fns = this.events.get(event);\n    if (fns) {\n      fns.forEach(fn => {\n        fn(...args);\n      });\n    }\n  }\n}\n\ntype EventHandler = (...args: any) => void;\ntype Event = \"ready\" | \"loaded\" | \"section\" | \"edit\";\n","import * as rndm from \"rndm\";\nimport * as ScrollMagic from \"scrollmagic\";\n\nimport { image } from \"./Components/Image\";\nimport { reveal } from \"./Components/Reveal\";\nimport { text } from \"./Components/Text\";\nimport { Page } from \"./Page\";\nimport { cleanObjectProperties, maybe, setStyle } from \"./Utils\";\n\nexport class Section {\n  /**\n   * Page to render the section within.\n   * @type {Page}\n   */\n  public page: Page;\n\n  /**\n   * Section container element.\n   * @type {HTMLElement}\n   */\n  public container: HTMLElement;\n\n  /**\n   * Scene height in pixels, used to determine min height.\n   * @type {height}\n   */\n  public height: number = 0;\n\n  /**\n   * ScrollMagic scene.\n   * @type {ScrollMagic.Scene}\n   */\n  public scroll: typeof ScrollMagic.Scene;\n\n  /**\n   * Section schema.\n   * @type {SectionData}\n   */\n  public data: SectionData;\n\n  /**\n   * @param page\n   * @param data\n   */\n  constructor(page: Page, data: SectionData) {\n    this.page = page;\n    this.container = document.createElement(\"section\");\n\n    this.setData(data);\n    this.setStyle();\n\n    page.container.append(this.container);\n\n    this.scroll = new ScrollMagic.Scene({\n      triggerElement: this.container,\n      triggerHook: 1,\n      reverse: true\n    });\n  }\n\n  /**\n   * Section id.\n   * @type {string}\n   */\n  get id() {\n    return this.data.id;\n  }\n\n  /**\n   * Section components.\n   * @type {any[]}\n   */\n  get components() {\n    return this.data.components;\n  }\n\n  /*\n  |--------------------------------------------------------------------------------\n  | Setting Utilities\n  |--------------------------------------------------------------------------------\n  */\n\n  /**\n   * Set a scene setting.\n   *\n   * @param key\n   * @param value\n   */\n  public set(key: SectionSetting, value: any) {\n    const scene = { ...this.data };\n    scene.settings[key] = value;\n    this.commit(scene);\n  }\n\n  /**\n   * Get a scene setting.\n   *\n   * @param key\n   */\n  public get(key: SectionSetting) {\n    return maybe(this.data, `settings.${key}`);\n  }\n\n  /*\n  |--------------------------------------------------------------------------------\n  | Component Utilities\n  |--------------------------------------------------------------------------------\n  */\n\n  /**\n   * Adds the provided component to the section component list.\n   *\n   * @param component\n   */\n  public addComponent(component: any) {\n    const section = { ...this.data };\n    section.components.push({\n      id: rndm.base62(10),\n      ...component\n    });\n    this.commit(section);\n  }\n\n  /**\n   * Updates the provided component, and persists it.\n   *\n   * @param component\n   */\n  public setComponent(component: any) {\n    const section = { ...this.data };\n    section.components = section.components.map((i: any) => {\n      if (i.id === component.id) {\n        return component;\n      }\n      return i;\n    });\n    this.data = getSection(section);\n    this.page.cache();\n  }\n\n  /**\n   * Updates the provided component settings, and persists it.\n   *\n   * @param component\n   * @param settings\n   */\n  public updateComponentSettings(component: any, settings: any) {\n    const section = { ...this.data };\n    section.components = section.components.map((c: any) => {\n      if (c.id === component.id) {\n        c.settings = cleanObjectProperties({\n          ...maybe(component, \"settings\", {}),\n          ...settings\n        });\n      }\n      return c;\n    });\n    this.commit(section);\n  }\n\n  /**\n   * Updates the provided component style, and persists it.\n   *\n   * @param component\n   * @param style\n   */\n  public updateComponentStyle(component: any, style: any) {\n    const section = { ...this.data };\n    section.components = section.components.map((c: any) => {\n      if (c.id === component.id) {\n        c.style = cleanObjectProperties({\n          ...maybe(component, \"style\", {}),\n          ...style\n        });\n      }\n      return c;\n    });\n    this.commit(section);\n  }\n\n  /**\n   * Updates the provided component, and commits it to the session.\n   *\n   * @param component\n   */\n  public updateComponent(component: any) {\n    const section = { ...this.data };\n    section.components = section.components.map((c: any) => {\n      if (c.id === component.id) {\n        return component;\n      }\n      return c;\n    });\n    this.commit(section);\n  }\n\n  /**\n   * Removes the provided component from the scene.\n   *\n   * @param component\n   */\n  public removeComponent(component: any) {\n    const section = { ...this.data };\n    section.components = section.components.reduce((list: any[], i: any) => {\n      if (i.id !== component.id) {\n        list.push(i);\n      }\n      return list;\n    }, []);\n    this.commit(section);\n  }\n\n  /*\n  |--------------------------------------------------------------------------------\n  | Storage Utilities\n  |--------------------------------------------------------------------------------\n  */\n\n  /**\n   * @should format section data\n   * @should set data to the section\n   * @should adjust section style\n   * @should render section\n   * @should persist the section data\n   * @should emit section update\n   *\n   * @param obj\n   */\n  public commit(obj: any) {\n    const data = getSection(obj);\n\n    this.setData(data);\n    this.setStyle();\n\n    this.render();\n\n    this.page.cache();\n    this.page.emit(\"section\", this);\n  }\n\n  /*\n  |--------------------------------------------------------------------------------\n  | Render Utilities\n  |--------------------------------------------------------------------------------\n  */\n\n  /**\n   * Adds the given element to the scene.\n   *\n   * @param element\n   */\n  public append(element: any) {\n    this.container.append(element);\n  }\n\n  /**\n   * Renders the scene to the dom.\n   */\n  public render() {\n    this.container.innerHTML = \"\";\n\n    // ### component Rendering\n\n    for (const component of this.data.components) {\n      switch (component.type) {\n        case \"image\": {\n          image(this, component);\n          break;\n        }\n        case \"text\": {\n          text(this, component);\n          break;\n        }\n        case \"reveal\": {\n          reveal(this, component);\n          break;\n        }\n      }\n    }\n\n    // ### Scene Loader\n\n    const loader = setInterval(() => {\n      if (this.container.offsetHeight !== 0) {\n        this.scroll.duration(this.container.offsetHeight);\n        this.scroll.addTo(this.page.controller);\n        clearInterval(loader);\n      }\n    }, 100);\n\n    return this;\n  }\n\n  /*\n  |--------------------------------------------------------------------------------\n  | Private Utilities\n  |--------------------------------------------------------------------------------\n  */\n\n  /**\n   * Set the scene properties onto the instance.\n   *\n   * @param scene\n   */\n  private setData(data: SectionData) {\n    const height = maybe<number>(data, \"settings.height\", 0);\n    if (height > 0) {\n      this.height = this.page.viewport.height * height;\n    } else {\n      this.height = 0;\n    }\n    this.data = data;\n  }\n\n  /**\n   * Sets the style of the section based on its settings.\n   */\n  private setStyle() {\n    const position = maybe<string>(this.data, \"settings.position\", \"relative\");\n    const background = maybe<string>(this.data, \"settings.background\", \"#fff\");\n\n    switch (position) {\n      case \"relative\": {\n        this.container.className = \"section-relative\";\n        break;\n      }\n      case \"sticky\": {\n        this.container.className = \"section-sticky\";\n        break;\n      }\n      case \"absolute\": {\n        this.container.className = \"section-absolute\";\n        break;\n      }\n    }\n\n    setStyle(this.container, {\n      background,\n      minHeight: this.height\n    });\n  }\n}\n\n/*\n |--------------------------------------------------------------------------------\n | Utilities\n |--------------------------------------------------------------------------------\n */\n\n/**\n * Gets a section in its raw data form as a immutable object.\n *\n * @param props\n *\n * @returns immutable section data\n */\nexport function getSection(props: any = {}): Readonly<SectionData> {\n  return Object.freeze({\n    id: props.id || rndm.base62(10),\n    settings: {\n      background: \"#fff\",\n      position: \"relative\",\n      height: 1,\n      ...(props.settings || {})\n    },\n    components: props.components || []\n  });\n}\n\n/*\n |--------------------------------------------------------------------------------\n | Types\n |--------------------------------------------------------------------------------\n */\n\ntype SectionSetting = \"background\" | \"position\" | \"height\";\n\n/*\n |--------------------------------------------------------------------------------\n | Interfaces\n |--------------------------------------------------------------------------------\n */\n\nexport interface SectionData {\n  /**\n   * Unique section identifier.\n   * @type {string}\n   */\n  id: string;\n\n  /**\n   * Section settings.\n   * @type {SectionSettings}\n   */\n  settings: SectionSettings;\n\n  /**\n   * Section components.\n   * @type {any[]}\n   */\n  components: any[];\n}\n\ninterface SectionSettings {\n  /**\n   * Background color of the scene.\n   * @type {string}\n   */\n  background?: string;\n\n  /**\n   * CSS position of the scene element.\n   * @type {\"relative\" | \"sticky\" | \"absolute\"}\n   */\n  position?: \"relative\" | \"sticky\" | \"absolute\";\n\n  /**\n   * Height relative to current viewport in decimal. Eg. 1 is the full height\n   * of the viewport. This is used to determine the minimum height of the\n   * scene.\n   * @type {number}\n   */\n  height?: number;\n}\n","import { Section } from \"../Section\";\nimport { maybe, setStyle } from \"../Utils\";\n\n/**\n * Appends a image layer to the provided container.\n *\n * @param section\n * @param component\n */\nexport function image(section: Section, component: any) {\n  const image = document.createElement(\"img\");\n\n  image.src = component.src;\n\n  const position = maybe(component, \"settings.position\");\n  switch (position) {\n    case \"background\": {\n      image.className = \"component-absolute\";\n      setStyle(image, {\n        objectFit: \"cover\",\n        width: section.page.viewport.width,\n        height: section.height * maybe<number>(component, \"settings.height\", 1)\n      });\n      section.append(image);\n      break;\n    }\n\n    case \"sticky\": {\n      const container = document.createElement(\"div\");\n      container.className = \"component-fixed_container\";\n\n      const scroller = document.createElement(\"div\");\n      scroller.className = \"component-scroll_overlay\";\n\n      image.className = \"component-fixed_component\";\n      setStyle(image, {\n        objectFit: \"cover\",\n        width: section.page.viewport.width,\n        height: \"100%\"\n      });\n\n      container.append(image);\n      container.append(scroller);\n\n      section.append(container);\n      break;\n    }\n\n    default: {\n      setStyle(image, {\n        display: \"block\",\n        ...(component.style || {})\n      });\n      section.append(image);\n    }\n  }\n}\n","import * as fastdom from \"fastdom\";\n\n/**\n * Safely retrieve a value from a deep nested object.\n *\n * @example\n *\n * const obj = {\n *   b: {\n *     c: [\n *       \"foo\",\n *        { bar: \"foobar\" }\n *     ]\n *   }\n * };\n *\n * maybe(obj, \"b.c\");            // returns 'bar'\n * maybe(obj, \"b.c.0\");          // returns 'bar'\n * maybe(obj, \"b.c.1.bar\");      // returns 'foobar'\n * maybe(obj, \"b.a\");            // returns undefined\n * maybe(obj, \"b.a\", \"Default\"); // returns 'Default'\n *\n * @param obj      Object to perform a retrieval on.\n * @param path     String with a dot noted path, or an array of string | number.\n * @param fallback Value to return if path leads to an undefined value.\n *\n * @returns path value, fallback, or undefined\n */\nexport function maybe<V = any>(obj: any, path: string | string[], fallback?: any): V {\n  const keys = Array.isArray(path) ? path : path.split(\".\");\n  let value: any = obj;\n  try {\n    for (const key of keys) {\n      if (value === undefined) {\n        return fallback;\n      }\n      value = value[key];\n    }\n  } catch (err) {\n    return fallback;\n  }\n  return value === undefined ? fallback : value;\n}\n\n/**\n * Updates the elements style attributes using fastom.mutate.\n *\n * @param element\n * @param styles\n */\nexport function setStyle(element: any, styles: any): void {\n  fastdom.mutate(() => {\n    for (const key in styles) {\n      element.style[key] = styles[key];\n    }\n  });\n}\n\n/**\n * Parse a object, if a key=>value is empty or undefined it will be removed from the object.\n *\n * @param obj\n *\n * @returns a cleaned object\n */\nexport function cleanObjectProperties(obj: any = {}) {\n  const result: any = {};\n  for (const key in obj) {\n    if (obj[key] !== \"\" && obj[key] !== null && obj[key] !== undefined) {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n}\n\n/**\n * Returns a transform: translate result based on the provided x,y,z values.\n * When you provide a z value it will return translate3d instead of translate.\n *\n * @param x\n * @param y\n * @param z\n *\n * @return translate values\n */\nexport function translate(x: number, y: number, z?: number): string {\n  const posX = Math.round(x);\n  const posY = Math.round(y);\n  const posZ = z !== undefined ? Math.round(z) : undefined;\n  if (posZ !== undefined) {\n    return `translate3d(${posX}${posX !== 0 ? \"px\" : \"\"},${posY}${posY !== 0 ? \"px\" : \"\"},${posZ}${posZ !== 0 ? \"px\" : \"\"})`;\n  }\n  return `translate(${posX}${posX !== 0 ? \"px\" : \"\"},${posY}${posY !== 0 ? \"px\" : \"\"})`;\n}\n","import { Section } from \"../Section\";\nimport { setStyle, translate } from \"../Utils\";\n\n/**\n * Appends a image layer to the provided container.\n *\n * @param section\n * @param component\n */\nexport function reveal(section: Section, component: any) {\n  const offset = 1 / component.images.length;\n\n  // ### Sticky Container\n\n  const container = document.createElement(\"div\");\n  container.className = \"sticky\";\n  setStyle(container, {\n    position: \"sticky\",\n    top: 0,\n    height: section.page.viewport.height,\n    width: section.page.viewport.width\n  });\n  section.append(container);\n\n  // ### Images\n\n  component.images.forEach((component: any, index: number) => {\n    const image = document.createElement(\"div\");\n    setStyle(image, {\n      position: \"absolute\",\n      backgroundImage: `url(${component.src})`,\n      backgroundSize: \"cover\",\n      height: section.page.viewport.height,\n      width: section.page.viewport.width,\n      transform: translate(0, 0, 0)\n    });\n    container.append(image);\n\n    if (index > 0) {\n      const style: any = {};\n      switch (component.transition) {\n        case \"up\": {\n          setStyle(image, {\n            position: \"absolute\",\n            bottom: 0,\n            left: 0,\n            height: 0,\n            backgroundPosition: \"center bottom\",\n            overflow: \"hidden\",\n            transform: translate(0, 0, 0)\n          });\n          break;\n        }\n        case \"down\": {\n          setStyle(image, {\n            height: 0,\n            overflow: \"hidden\"\n          });\n          break;\n        }\n        case \"left\": {\n          setStyle(image, {\n            width: 0,\n            overflow: \"hidden\"\n          });\n          break;\n        }\n        case \"right\": {\n          setStyle(image, {\n            position: \"absolute\",\n            right: 0,\n            width: 0,\n            backgroundPosition: \"center right\",\n            overflow: \"hidden\",\n            transform: translate(0, 0, 0)\n          });\n          break;\n        }\n      }\n      setStyle(image, style);\n\n      const start = offset * index;\n      const end = start + offset;\n\n      section.scroll.on(\"progress\", (event: any) => {\n        const style: any = {};\n        const percent = (event.progress - start) / offset; // the percentage of the index 0 - 1\n        const fullPercent = Math.floor(percent * 100);\n\n        switch (component.transition) {\n          case \"swap\": {\n            style.opacity = start < event.progress && event.progress < end ? 1 : event.progress < start ? 0 : 1;\n            break;\n          }\n          case \"fade\": {\n            style.opacity = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n            break;\n          }\n          case \"up\": {\n            style.height = `${fullPercent < 0 ? 0 : fullPercent > 100 ? 100 : fullPercent}%`;\n            break;\n          }\n          case \"down\": {\n            style.height = `${fullPercent < 0 ? 0 : fullPercent > 100 ? 100 : fullPercent}%`;\n            break;\n          }\n          case \"left\": {\n            style.width = `${fullPercent < 0 ? 0 : fullPercent > 100 ? 100 : fullPercent}%`;\n            break;\n          }\n          case \"right\": {\n            style.width = `${fullPercent < 0 ? 0 : fullPercent > 100 ? 100 : fullPercent}%`;\n            break;\n          }\n        }\n\n        setStyle(image, style);\n      });\n    } else {\n      setStyle(image, {\n        position: \"absolute\",\n        left: 0,\n        top: 0,\n        height: section.page.viewport.height\n      });\n    }\n  });\n}\n\n/*\nconst image = document.createElement(\"img\");\n\nimage.src = item.src;\n\nif (item.style) {\n  setStyle(image, item.style);\n}\n\nlet height = maybe(item, \"settings.height\", 0);\nif (height !== 0) {\n  setStyle(image, {\n    height: scene.height * height\n  });\n}\n\nscene.append(image);\n*/\n","import * as Quill from \"quill\";\n\nimport { Section } from \"../Section\";\nimport { maybe, setStyle } from \"../Utils\";\n\n/**\n * Appends a text layer to the provided container.\n *\n * @param container\n * @param component\n */\nexport function text(section: Section, component: any) {\n  const grid = document.createElement(\"div\");\n  setStyle(grid, {\n    ...getGridLayout(maybe<string>(component, \"settings.layout\"), maybe<number>(component, \"settings.min\"), maybe<number>(component, \"settings.max\")),\n    minHeight: section.height\n  });\n  if (maybe<boolean>(component, \"settings.sticky\", false)) {\n    setStyle(grid, {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\"\n    });\n  }\n  section.append(grid);\n\n  const body = document.createElement(\"article\");\n  setStyle(body, {\n    gridArea: \"text\",\n    ...maybe(component, \"style\", {})\n  });\n  grid.append(body);\n\n  const quill = new Quill(body, {\n    theme: \"bubble\",\n    placeholder: \"Compose an epic...\",\n    readOnly: false,\n    modules: {\n      toolbar: [\n        [\"bold\", \"italic\", \"underline\", \"strike\"], // toggled buttons\n        [\"blockquote\", \"code-block\"],\n\n        [{ header: 1 }, { header: 2 }], // custom button values\n        [{ list: \"ordered\" }, { list: \"bullet\" }],\n        [{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\n        [{ indent: \"-1\" }, { indent: \"+1\" }], // outdent/indent\n        [{ direction: \"rtl\" }], // text direction\n\n        [{ size: [\"small\", false, \"large\", \"huge\"] }], // custom dropdown\n        [{ header: [1, 2, 3, 4, 5, 6, false] }],\n\n        [{ color: [] }, { background: [] }], // dropdown with defaults from theme\n        [{ font: [] }],\n        [{ align: [] }],\n\n        [\"clean\"] // remove formatting button\n      ]\n    }\n  });\n\n  let debounce: any;\n  quill.on(\"text-change\", function(delta: any, oldDelta: any, source: any) {\n    clearTimeout(debounce);\n    debounce = setTimeout(() => {\n      section.setComponent({\n        ...component,\n        text: quill.getContents()\n      });\n    }, 2500);\n  });\n\n  quill.setContents(component.text);\n}\n\n/**\n * Retrieve grid layout for the text.\n *\n * @param layout\n */\nfunction getGridLayout(layout: string = \"middle\", min: number = 280, max: number = 580): any {\n  switch (layout) {\n    case \"left\": {\n      return {\n        display: \"grid\",\n        gridTemplateColumns: `minmax(${min}px, ${max}px) auto`,\n        gridTemplateRows: \"1fr\",\n        gridTemplateAreas: \"'text .'\"\n      };\n    }\n    case \"middle\": {\n      return {\n        display: \"grid\",\n        gridTemplateColumns: `auto minmax(${min}px, ${max}px) auto`,\n        gridTemplateRows: \"1fr\",\n        gridTemplateAreas: \"'. text .'\"\n      };\n    }\n    case \"right\": {\n      return {\n        display: \"grid\",\n        gridTemplateColumns: `auto minmax(${min}px, ${max}px)`,\n        gridTemplateRows: \"1fr\",\n        gridTemplateAreas: \"'. text'\"\n      };\n    }\n    case \"center\": {\n      return {\n        display: \"grid\",\n        gridTemplateColumns: `auto minmax(${min}px, ${max}px) auto`,\n        gridTemplateRows: \"1fr auto 1fr\",\n        gridTemplateAreas: \"'. . .' '. text .' '. . .'\"\n      };\n    }\n  }\n}\n","export class Viewport {\n  public width: number;\n  public height: number;\n\n  constructor(width: number, height: number) {\n    this.width = width;\n    this.height = height;\n  }\n}\n","import * as React from \"react\";\nimport styled from \"styled-components\";\n\nimport { Page } from \"Engine/Page\";\nimport { Section } from \"Engine/Section\";\n\nexport class Sections extends React.Component<\n  {\n    page: Page;\n    editComponent: (section: Section, component: any) => void;\n  },\n  {\n    expanded: Set<string>;\n  }\n> {\n  constructor(props: any, state: any) {\n    super(props, state);\n\n    let expanded: Set<string> = new Set();\n\n    const cache = localStorage.getItem(\"editor.sections\");\n    if (cache) {\n      expanded = new Set(JSON.parse(cache));\n    }\n\n    this.state = { expanded };\n  }\n\n  /**\n   * Add a new image component to the provided section.\n   *\n   * @param section\n   */\n  private addImage = (section: Section) => {\n    section.addComponent({\n      type: \"image\",\n      src: \"https://jdrf.org.uk/wp-content/uploads/2017/06/placeholder-image.jpg\",\n      style: {\n        width: \"100%\",\n        height: \"auto\"\n      }\n    });\n  };\n\n  /**\n   * Add a new text component to the provided section.\n   *\n   * @param section\n   */\n  private addText = (section: Section) => {\n    section.addComponent({ type: \"text\" });\n  };\n\n  public render() {\n    return (\n      <SectionList>\n        {this.props.page.sections.map((section, index) => {\n          return (\n            <li key={section.id}>\n              <header\n                onClick={() => {\n                  const expanded = this.state.expanded;\n                  if (expanded.has(section.id)) {\n                    expanded.delete(section.id);\n                  } else {\n                    expanded.add(section.id);\n                  }\n                  this.setState(() => ({ expanded }));\n                  localStorage.setItem(\"editor.sections\", JSON.stringify(Array.from(expanded)));\n                }}\n              >\n                <i className=\"fa fa-puzzle-piece\" style={{ marginRight: 5 }} />\n                {index} - {section.id}\n              </header>\n              {this.renderSection(section)}\n            </li>\n          );\n        })}\n      </SectionList>\n    );\n  }\n\n  private renderSection(section: Section) {\n    if (!this.state.expanded.has(section.id)) {\n      return null;\n    }\n    return (\n      <Components>\n        <ul style={{ listStyle: \"none\" }}>\n          {section.components.map(component => {\n            return (\n              <li\n                className=\"component\"\n                key={component.id}\n                onClick={() => {\n                  this.props.editComponent(section, component);\n                }}\n              >\n                {getComponentIcon(component.type)} {component.type}\n              </li>\n            );\n          })}\n        </ul>\n        <button\n          onClick={() => {\n            this.addImage(section);\n          }}\n        >\n          Add Image\n        </button>\n        <button\n          onClick={() => {\n            this.addText(section);\n          }}\n        >\n          Add Text\n        </button>\n      </Components>\n    );\n  }\n}\n\nconst SectionList = styled.ul`\n  > li {\n    border-bottom: 1px solid #ccc;\n    font-size: 13px;\n\n    > header {\n      padding: 10px;\n      &:hover {\n        cursor: pointer;\n      }\n    }\n  }\n`;\n\nconst Components = styled.div`\n  border-top: 1px solid #ccc;\n  padding: 10px;\n\n  .component {\n    margin: 5px 0 5px 20px;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n`;\n\nfunction getComponentIcon(type: string) {\n  switch (type) {\n    case \"image\": {\n      return <i className=\"fa fa-image\" style={{ marginRight: 5 }} />;\n    }\n    case \"text\": {\n      return <i className=\"fa fa-text-height\" style={{ marginRight: 5 }} />;\n    }\n    case \"reveal\": {\n      return <i className=\"fa fa-image\" style={{ marginRight: 5 }} />;\n    }\n  }\n}\n","import * as React from \"react\";\n\nimport { Section } from \"Engine/Section\";\nimport { maybe } from \"Engine/Utils\";\n\nimport { Header, SettingGroup } from \"../Styles\";\n\nexport const ImageSettings: React.SFC<{\n  section: Section;\n  component: any;\n}> = function ImageSettings({ section, component }) {\n  return (\n    <React.Fragment key={`component-${component.id}`}>\n      <Header>\n        <h1>Image Settings</h1>\n      </Header>\n      <div style={{ padding: 10 }}>\n        <SettingGroup>\n          <label className=\"input\">Source</label>\n          <input\n            type=\"text\"\n            placeholder=\"http://path.to/image\"\n            value={component.src}\n            onChange={event => {\n              section.updateComponent({\n                ...component,\n                src: event.target.value\n              });\n            }}\n          />\n        </SettingGroup>\n        <SettingGroup>\n          <label>Position</label>\n          <select\n            value={maybe(component, \"settings.position\")}\n            onChange={event => {\n              section.updateComponentSettings(component, { position: event.target.value });\n              // section.set(\"position\", event.target.value);\n            }}\n          >\n            <option>None</option>\n            <option value=\"background\">Background</option>\n            <option value=\"sticky\">Sticky</option>\n          </select>\n        </SettingGroup>\n      </div>\n\n      <Header>\n        <h1>Image Style</h1>\n      </Header>\n      <div style={{ padding: 10 }}>\n        <SettingGroup>\n          <label className=\"input\">Width</label>\n          <input\n            type=\"text\"\n            defaultValue={maybe(component, \"style.width\", \"\")}\n            onBlur={event => {\n              section.updateComponentStyle(component, { width: event.target.value });\n            }}\n          />\n        </SettingGroup>\n        <SettingGroup>\n          <label className=\"input\">Height</label>\n          <input\n            type=\"text\"\n            defaultValue={maybe(component, \"style.height\", \"\")}\n            onBlur={event => {\n              section.updateComponentStyle(component, { height: event.target.value });\n            }}\n          />\n        </SettingGroup>\n        <SettingGroup>\n          <label className=\"input\">Margin</label>\n          <input\n            type=\"text\"\n            defaultValue={maybe(component, \"style.margin\", \"\")}\n            onBlur={event => {\n              section.updateComponentStyle(component, { margin: event.target.value });\n            }}\n          />\n        </SettingGroup>\n      </div>\n      <div style={{ borderTop: \"1px solid #ccc\", padding: 10, textAlign: \"center\" }}>\n        <button\n          onClick={() => {\n            section.removeComponent(component);\n          }}\n        >\n          Delete Image\n        </button>\n      </div>\n    </React.Fragment>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  display: grid;\n  grid-template-columns: 240px auto 280px;\n  grid-template-rows: 1fr;\n  width: 100%;\n  height: 100%;\n\n  i {\n    color: #767676;\n  }\n`;\n\nexport const Header = styled.header`\n  position: relative;\n  border-bottom: 1px solid #ccc;\n  font-size: 13px;\n  padding: 10px;\n\n  > h1 {\n    font-size: 13px;\n    font-weight: 500;\n  }\n`;\n\nexport const Scenes = styled.div`\n  background: #f6f6f6;\n  border-right: 1px solid #ccc;\n\n  header {\n    > div {\n      position: absolute;\n      top: 6px;\n      right: 10px;\n\n      button {\n        cursor: pointer;\n        margin: 0 3px;\n        padding: 3px;\n      }\n    }\n  }\n`;\n\nexport const SettingGroup = styled.div`\n  display: grid;\n  grid-template-columns: 30% auto;\n  grid-template-rows: 1fr;\n\n  margin-bottom: 5px;\n\n  > label {\n    font-size: 13px;\n    &.input {\n      padding-top: 2px;\n    }\n  }\n\n  > input {\n    &[type=\"checkbox\"] {\n      margin-top: 3px;\n    }\n  }\n`;\n\nexport const SettingGroupStacked = styled.div`\n  > label {\n    display: block;\n    font-size: 13px;\n    margin-bottom: 10px;\n    &.input {\n      padding-top: 2px;\n    }\n  }\n`;\n\nexport const Content = styled.div`\n  position: relative;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n`;\n\nexport const Settings = styled.div`\n  background: #f6f6f6;\n  border-left: 1px solid #ccc;\n`;\n","import * as React from \"react\";\nimport { SketchPicker } from \"react-color\";\n\nimport { Section } from \"Engine/Section\";\n\nimport { Header, SettingGroup, SettingGroupStacked } from \"../Styles\";\n\nexport const SectionSettings: React.SFC<{\n  section: Section;\n}> = function SectionSettings({ section }) {\n  return (\n    <React.Fragment key={`section-${section.id}`}>\n      <Header>\n        <h1>Section Settings</h1>\n      </Header>\n      <div style={{ borderBottom: \"1px solid #ccc\", padding: 10 }}>\n        <SettingGroup>\n          <label className=\"input\">Position</label>\n          <select\n            value={section.data.settings.position}\n            onChange={event => {\n              section.set(\"position\", event.target.value);\n            }}\n          >\n            <option value=\"relative\">Relative</option>\n            <option value=\"sticky\">Sticky</option>\n            <option value=\"absolute\">Absolute</option>\n          </select>\n        </SettingGroup>\n        <SettingGroup>\n          <label className=\"input\">Height</label>\n          <input\n            type=\"number\"\n            defaultValue={`${section.get(\"height\") * 100}`}\n            onChange={event => {\n              section.set(\"height\", parseInt(event.target.value, 10) / 100);\n            }}\n          />\n        </SettingGroup>\n        <ColorPicker label=\"Background Color\" section={section} />\n      </div>\n    </React.Fragment>\n  );\n};\n\nclass ColorPicker extends React.Component<\n  {\n    label: string;\n    section: Section;\n  },\n  {\n    show: boolean;\n  }\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      show: false\n    };\n  }\n\n  public render() {\n    return (\n      <SettingGroupStacked>\n        <label\n          style={{ cursor: \"pointer\" }}\n          className=\"input\"\n          onClick={() => {\n            this.setState(() => ({ show: !this.state.show }));\n          }}\n        >\n          {this.props.label}\n          <i className={`fa fa-caret-${this.state.show ? \"down\" : \"up\"}`} style={{ float: \"right\", marginTop: 4 }} />\n        </label>\n        {this.state.show && (\n          <SketchPicker\n            width={240}\n            color={this.props.section.get(\"background\")}\n            onChangeComplete={(color: any) => {\n              this.props.section.set(\"background\", color.hex);\n            }}\n          />\n        )}\n      </SettingGroupStacked>\n    );\n  }\n}\n","import * as React from \"react\";\n\nimport { Section } from \"Engine/Section\";\nimport { maybe } from \"Engine/Utils\";\n\nimport { Header, SettingGroup } from \"../Styles\";\n\nexport const TextSettings: React.SFC<{\n  section: Section;\n  component: any;\n}> = function TextSettings({ section, component }) {\n  return (\n    <React.Fragment key={`component-${component.id}`}>\n      <Header>\n        <h1>Layout Settings</h1>\n      </Header>\n      <div style={{ padding: 10 }}>\n        <SettingGroup>\n          <label className=\"input\">Min Width</label>\n          <input\n            type=\"number\"\n            defaultValue={maybe(component, \"settings.min\", \"\")}\n            placeholder=\"280\"\n            onBlur={event => {\n              section.updateComponentSettings(component, { min: event.target.value });\n            }}\n          />\n        </SettingGroup>\n        <SettingGroup>\n          <label className=\"input\">Max Width</label>\n          <input\n            type=\"number\"\n            defaultValue={maybe(component, \"settings.max\", \"\")}\n            placeholder=\"580\"\n            onBlur={event => {\n              section.updateComponentSettings(component, { max: event.target.value });\n            }}\n          />\n        </SettingGroup>\n        <SettingGroup>\n          <label className=\"input\">Layout</label>\n          <select\n            value={maybe<string>(component, \"settings.layout\", \"middle\")}\n            onChange={event => {\n              section.updateComponentSettings(component, { layout: event.target.value });\n            }}\n          >\n            <option value=\"left\">Left</option>\n            <option value=\"middle\">Middle</option>\n            <option value=\"right\">Right</option>\n            <option value=\"center\">Center</option>\n          </select>\n        </SettingGroup>\n      </div>\n\n      <Header>\n        <h1>Text Settings</h1>\n      </Header>\n      <div style={{ padding: 10 }}>\n        <SettingGroup>\n          <label className=\"input\">Color</label>\n          <input\n            type=\"text\"\n            defaultValue={maybe(component, \"style.color\", \"\")}\n            placeholder=\"Base text color, eg. #fff\"\n            onBlur={event => {\n              section.updateComponentStyle(component, { color: event.target.value });\n            }}\n          />\n        </SettingGroup>\n        <SettingGroup>\n          <label className=\"input\">Font Size</label>\n          <input\n            type=\"text\"\n            defaultValue={maybe(component, \"style.fontSize\", \"\")}\n            placeholder=\"Base text size, eg. 18px\"\n            onBlur={event => {\n              section.updateComponentStyle(component, { fontSize: event.target.value });\n            }}\n          />\n        </SettingGroup>\n        <SettingGroup>\n          <label className=\"input\">Color</label>\n          <input\n            type=\"text\"\n            defaultValue={maybe(component, \"style.textShadow\", \"\")}\n            placeholder=\"Shadow settings, 1px 1px 2px #262626\"\n            onBlur={event => {\n              section.updateComponentStyle(component, { textShadow: event.target.value });\n            }}\n          />\n        </SettingGroup>\n      </div>\n\n      <div style={{ borderTop: \"1px solid #ccc\", padding: 10, textAlign: \"center\" }}>\n        <button\n          onClick={() => {\n            section.removeComponent(component);\n          }}\n        >\n          Delete Text\n        </button>\n      </div>\n    </React.Fragment>\n  );\n};\n"]}